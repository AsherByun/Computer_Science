# 뷰(View)

# 뷰(View) 란?

- 허용된 데이터를 제한적으로 보여주기 위해서, 하나 이상의 테이블에서부터 유도된 가상 테이블
- 뷰는 저장장치 내에 물리적으로 존재하지 않지만 사용자에게 있는 것처럼 간주된다.
- 뷰는 데이터 보정작업, 처리과정 시험 등 임시적인 작업을 위한 용도
- 뷰는 조인문의 사용 최소화로 사용상의 편의성을 최대화한다.

## 뷰의 필요성

DBMS의 가장 중요한 목적은 데이터의 저장 구조나 처리 방식이 변경되어도 응용 프로그램에 영향을 주지 않도록 하는 데이터 독립성의 구현이다. 데이터베이스에서 말하는 데이터 독립성에는 두 가지 종류가 있다. → 논리적 데이터 독립성을 구현하기 위한 중요한 개념!!

- **논리적 데이터 독립성 (logical data independence)**: 각각의 응용 프로그램들이 서로 영향을 받지 않으면서 응용 프로그램이 원하는 논리적 구조를 제공할 수 있는 능력
- **물리적 데이터 독립성 (physical data independence)**: 응용 프로그램에 영향을 미치지 않고 데이터의 물리적 구조를 변경할 수 있는 능력

## 특징

- 뷰가 정의된 기본테이블이 변경 되면, 뷰도 자동으로 변경됨
- 외부 스키마는 뷰와 기본 테이블 정의로 구성됨
- 뷰에 대한 검색은 기본테이블과 거의 동일하지만 삽입, 삭제, 갱신에는 제약이 있음.
- 뷰는 CREATE문에 의해 정의되며 SYSVIEW에 저장됨.
- 한번 정의된 뷰는 변경할 수 없으며, 삭제 후 생성해야 함.
- 뷰를 제거 할때에는 DROP문을 사용.

## 장점

- 데이터의 논리적 독립성 제공 → 다른 응용프로그램이나 데이터베이스에 영향을 주지 않고, 응용 프로그램이 원하는 형태로 데이터를 접근가능
- 데이터 접근 제어로 보안 가능.

    → 뷰를 통해 접근하기 때문에, 뷰에 보이지 않는 데이터를 보호할 수 있음

- 필요한 데이터만 뷰로 정의해서 처리할 수 있기 때문에 관리가 용이하고 명령문이 간단해진다.
- 하나의 테이블로 여러개의 상이한 뷰를 정의할 수 있음

## 단점

- 독자적인 인덱스를 가질 수 없음.
- 정의를 변경할 수 없음.
- 삽입, 삭제, 갱신 연산에 제약이 많음.

**뷰 정의문**

```
--문법--
CREATE VIEW 뷰이름[(속성이름[,속성이름])]AS SELECT문;

--고객 테이블에서 주소가 서울시인 고객들의 성명과 전화번호를 서울고객이라는 뷰로 만들어라--
CREATE VIEW 서울고객(성명, 전화번호)
AS SELECT 성명 전화번호
FROM 고객
WHERE 주소 = '서울시';

```

**뷰 삭제문**

**※** 뷰는 ALTER문을 사용하여 변경할 수 없으므로 필요한 경우는 삭제한 후 재생성한다.

```
--문법--
DROP VIEW 뷰이름 RESTRICT or CASCADE

--서울고객이라는 뷰를 삭제해라--
DROP VIEW 서울고객 RESTRICT;

```

RESTRICT : 뷰를 다른곳에서 참조하고 있으면 삭제가 취소된다.

CASCADE : 뷰를 참조하는 다른 뷰나 제약 조건까지 모두 삭제된다.
